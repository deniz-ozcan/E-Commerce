@model CartModel

@section title {<title>Shopping Cart | ScrapApp</title>}

@if(Model.CartItems.Count==0)
{
<div class="text-center fs-5 alertwarning">
  <h1 class="h3">There is no item in your cart.</h1>
</div> 
}
else{
<div class="row mt-3">
  <div class="col-md-8">
    <div class="text-center">
      <h4>Cart Items</h4>
    </div>
    <table class="table table-hover">
      <thead>
        <tr>
          <th></th>
          <th>Product Name</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Total</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @foreach (var item in Model.CartItems)
        {
        <tr>
          <td>
            <img src="~/img/@item.ImageUrl" width="80" alt="">
          </td>
          <td>@item.Name</td>
          <td>@item.Price</td>
          <td>@item.Quantity</td>
          <td>@(item.Quantity*item.Price)</td>
          <td>
            <form asp-controller="Cart" asp-action="DeleteFromCart" method="post">
              <input type="hidden" name="productId" value="@item.ProductId">
              <button type="submit" class="btn btn-outline-danger btn-sm">
                Delete
              </button>
            </form>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  <div class="col-md-4">
    <div class="text-center">
      <h4>Cart Summary</h4>
    </div>
    <table class="table">
      <tbody>
        <tr>
          <th>Cart Total</th>
          <td>@Model.TotalPrice().ToString("c")</td>
        </tr>
        <tr>
          <th>Shipping</th>
          <th>Free</th>
        </tr>
        <tr>
          <th>Order Total</th>
          <th>@Model.TotalPrice().ToString("c")</th>
        </tr>
      </tbody>
    </table>
    <div class="text-center">
      <a href="/" class="btn btn-outline-primary">
        Alışverişe Devam Et
      </a>
      <a href="/checkout" class="btn btn-outline-primary">
        Checkout
      </a>
    </div>
  </div>
</div>
}